# utf-8
set -g utf8
set-window-option -g utf8 on
set -s escape-time 0

# 历史
set -g history-limit 100000

# map emacs movement keys as pane movement keys
bind C-b select-pane -L
bind C-n select-pane -D
bind C-p select-pane -U
bind C-f select-pane -R

# start index with 1
set -g base-index 1
set -g pane-base-index 1

# 复制模式下emacs移动
setw -g mode-keys emacs

# 修改前缀
set -g prefix C-M-b
unbind-key C-b

#当前目录
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# tmux 权限
set-option -g default-command "reattach-to-user-namespace -l zsh"
bind-key -t emacs-copy C-Space begin-selection
bind-key -t emacs-copy M-w copy-pipe "reattach-to-user-namespace pbcopy"

# 状态栏
# Status Bar
set -g status on
set -g status-utf8 on
set -g status-right-length 50
set -g status-left-length 50
set -g status-interval 5
set -g status-left "#[fg=green]#S"
set -g status-right "#[fg=green]%a %m-%d %R "
set -g status-justify 'centre'
set -g status-bg "colour235"
setw -g window-status-attr 'none'
setw -g window-status-format ""
setw -g window-status-current-format "#[fg=green]#I"
setw -g window-status-separator ''
set -g default-terminal "screen-256color"

#用插件
set -g @tpm_plugins '              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-sensible       \
  tmux-plugins/tmux-resurrect   \
  tmux-plugins/tmux-continuum \
'
set -g @resurrect-processes 'emacs'
run-shell '~/.tmux/plugins/tpm/tpm'
